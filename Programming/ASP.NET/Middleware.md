основной блок обработки http запросов
конвеер обработки запросов
по промежуточного слоя

![[Pasted image 20240111233930.png]]

запрос передается в блоки называемые middleware
методы начинающиеся на Use подключают Middleware