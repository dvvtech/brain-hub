в http 1.1 для параллельной(*1) работы между клиентом и сервером приходится открывать дополнительные соединения(а они увеличивают расход ресурсов клиента и сервера) а в http/ 2.0 это можно сделать одним соединением
(*1) - одновременно запросить данные у разных эндпоинтов

http/ 2.0 это бинарный формат

![[Pasted image 20240116150220.png]]

В рамках одного tcp соединения есть несколько потоков(стрим) и внутри потоков гуляют фреймы (и у фрейма есть id стрима) - эта вещь называется мультипликсирование

браузер последовательно скачивает файлы

![[Pasted image 20240116151357.png]]

в HTTP 2 появилось server push
сервер может решить что вам нужно и сам допушит вам файлики. сокращается время загрузки страниц.


HTTP 1.1 может отправлять данные чанками
пример отправки данных чанками, заголовок `Transfer-Encoding`
```http
HTTP/1.1 200 OK
Content-Type: text/plain
Transfer-Encoding: chunked

[размер куска в шестнадцатеричном формате]
[данные куска]
[размер следующего куска в шестнадцатеричном формате]
[данные следующего куска]
...
0  // Последний кусок, размер 0, означает окончание передачи
```